#!/usr/bin/env node

const requirejs = require('requirejs');
const fs = require('fs');

let pathToRequirejs = './node_modules/requirejs/require.js';

if (!fs.existsSync(pathToRequirejs)) {
    pathToRequirejs = '.' + pathToRequirejs;
}

const config = {
    baseUrl: 'tmp/js/es5',
    name: 'nervejs',
    optimize: 'none',
    out: 'dist/nerve.js',
    wrap: {
        startFile: pathToRequirejs
    },
    paths: {
        axios: '../../../node_modules/axios/dist/axios'
    }
};

requirejs.optimize(config, function (results) {
    console.log(results);
});